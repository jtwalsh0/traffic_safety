
PROFILE:=default_profile
%include $[PROFILE]


; Drake looks at the file timestamp to determine whether to update a file.  Unfortunately, Postgres
; doesn't have a timestamp we can use.  We overcome this by creating empty files and storing them 
; in the psql folder. The psql function touches that empty file; we use the timestamp on the empty 
; file as the timestamp for Postgres.
psql()
	psql -v ON_ERROR_STOP=1 -f $[INPUT] && touch $[OUTPUT]
	

%include input/Drakefile

; %include models/Drakefile
